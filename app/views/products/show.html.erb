<!-- ==========================
   PRODUCTS - START 
   =========================== -->
<style type="text/css">
</style>
<br><br><br>
<section class="content products">
   <div class="container">
      <article class="product-item product-single" style="     padding: 20px;">
         <div class="row">
            <br>
            <center>
               <h3> WOMEN / SANDALS / DAPHNE</h3>
            </center>
            <div class="col-md-7">
               <div id="example">
                  <div class="easyzoom easyzoom--overlay easyzoom--with-thumbnails">
                     <a href="<%= @product.try(:default_image).try(:path)%>">
                     <img src="<%= @product.try(:default_image).try(:path)%>" alt="" width="640" height="360" />
                     </a>
                  </div>
                  <ul class="thumbnails">
                     <%@product.attachments.each do |attachment|%>
                        <%unless ["data_sheet"].include?(attachment.role)%>
                        <li>
                           <a href="<%=attachment.path%>" data-standard="<%=attachment.path%>">
                           <img src="<%=attachment.path%>" alt="" />
                           </a>
                        </li>
                        <% end %>
                     <% end %>
                  </ul>
               </div>
               <div class="product-carousel-wrapper">
               </div>
            </div>
            <%= form_tag product_path(@product.permalink), :method => :post, :id => "product_form" do %>
              <div class="col-md-5">
                 <div class="product-body" style="    margin-top: 2%;">
                    <h2><%= @product.get_name %></h2>
                    <span class="">
                    <%= number_to_currency @product.get_price %> 
                    <br>
                    </span>
                    <p style=" margin: 6px 0 0px;"><%= @product.short_description.try(:html_safe) %>
                    </p>
                    <br>
                    <div class="product-form clearfix">
                       <div class="row row-no-padding">
                          <br>
                          <h3>Available Sizes</h3>
                          <% @sizes.each do |s| %>
                          <div onclick="selectSize(this)" class="size-list" style="    border: solid 1px #ddd;
                             width: 30px;
                             text-align: center;
                             margin-right: 2px;     float: left;cursor:pointer;" ><%=s.name%></div>
                          <% end %>
                          <%= hidden_field_tag :size,{}, :value=>"", :id=>"size"  %>
                          <br>
                          <br>
                          <br>
                          <h3 style="    margin-top: -12px;">Available Colors</h3>

                          <div style="margin-top: 12px;     width: 58%;">
                            <% @variants.each do |v| %>
                              <%= link_to product_path(v.permalink) do%>
                                <%#= v.name %>
                               <div class="color1" style="background:#<%= v.color %>;"></div>
                              <% end %>
                            <% end %>
                          </div>
                          <br> <br> <br>
                          <h3>Quantity</h3>
                          <div class="product-quantity clearfix">
                             <a class="btn btn-default" id="modal-qty-minus">-</a>
                             <%= text_field_tag :quantity, params[:quantity], id: 'modal-qty', :class=>"form-control", :value=>"1" %>
                             <a class="btn btn-default" id="modal-qty-plus">+</a>
                          </div>
                          <div style="clear;both"></div>
                          <br>
                       </div>
                    </div>
                    In Stock. Ships within 1-2  business days.
                    <br>
                    <br>
                    <button type="submit" class="btn btn-primary add-to-cart" style=" color: #ddd; background: #00215F;float: left;">
                      Add to cart
                      <i class="fa fa-shopping-cart"></i>
                    </button>
                 </div>
              </div>
            <% end %>
         </div>
      </article>
   </div>
</section>
<!-- ==========================
   PRODUCTS - END 
   =========================== -->

<%= render "styles_and_accessories" %>

<script>
   // Instantiate EasyZoom instances
   var $easyzoom = $('.easyzoom').easyZoom();
   
   // Setup thumbnails example
   var api1 = $easyzoom.filter('.easyzoom--with-thumbnails').data('easyZoom');
   
   $('.thumbnails').on('click', 'a', function(e) {
       var $this = $(this);
   
       e.preventDefault();
   
       // Use EasyZoom's `swap` method
       api1.swap($this.data('standard'), $this.attr('href'));
   });
   
   // Setup toggles example
   var api2 = $easyzoom.filter('.easyzoom--with-toggle').data('easyZoom');
   
   $('.toggle').on('click', function() {
       var $this = $(this);
   
       if ($this.data("active") === true) {
           $this.text("Switch on").data("active", false);
           api2.teardown();
       } else {
           $this.text("Switch off").data("active", true);
           api2._init();
       }
   });


   $('#modal-qty-plus').click(function(e) {
    var temp = $('#modal-qty').val();
      if (temp == null || temp == "") {
        $('#modal-qty').prop("value", 1);
      } else {
        $('#modal-qty').prop("value",parseInt(temp) + 1);
      }
   });
   
   $('#modal-qty-minus').click(function(e) {
    var temp = $('#modal-qty').val();
    if(parseInt(temp) > 1) {
      $('#modal-qty').prop("value",parseInt(temp) - 1);
    }
   });

   $('#product_form').submit(function() {
    var size = $("#size").val();
    var quantity = $('#modal-qty').val();
       if (size == null || size == "") {
           alert("Please select any Size.");
           return false;
       } else if (quantity == null || quantity == "" || quantity < 1){
           alert("Please Enter a valid Quantity.");
           return false;
       }
   });
</script>